language: node_js
node_js: stable
sudo: required
before_script:
  - npm install -g polymer-cli
  - polymer install --variants
addons:
  firefox: latest
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
  sauce_connect: true
script:
  - xvfb-run polymer test --plugin local
  - >-
    if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then polymer test --plugin sauce
    --job-name "auth-dialogs:${TRAVIS_BRANCH}"
    --build-number=${TRAVIS_BUILD_NUMBER}; fi
cache:
  directories:
    - node_modules
after_success:
  - node tasks/ci.js
env:
  global:
    - secure: >-
        hGWalw4lk74rntv2B/rp4WxcasZn12OGgSWJKGVM0+z6fdmEOvFbfO20488xzvLaK70dJlTP82j4A6t7416oWk9fYZAvfUtmoKJ16rP8kp1fHujw+mVbM6QGNnkWECuN0uxbYF4EcC9zsDghp77ldKug/dq7rVayDZ/ewtrGct0bxIV+Vk/SbCNSbAOCboofIZctplOf3cBurgNH2Jk098kNgEuYgXYfGwT6NDoOMWosKnIW+YiaySd3YjfZJv9pQFEerA7PzpOG/SvDKexMydSxLdOScsQa1xU1QE+d/EDjAq+P3mdEh8BXoEdOh7YkhaxTuS/l06TjTgec3aZ7RifcppDglHxiqwuOr2NvDreqcSzWDW7ZMkV7bIc72uH+cHWpsOG5DCyLtdUooXpwVZn2wcFKHojygTA49rUfQjMnDtOIskzN3IT2HD+ygABKhkMket9IBw5kaD3XpT9eP0SynSmIlA1A57yLlnpcydnbapkiZsRazf+Lq1NvvK1QvoLiKAHegjsWJSkacwYUNwKsD57gp8JEoZYcF6Rsgu4TKCNnsP59RhAvdXEqIQbQ+J/TPL+15s7F7IlZFGNvos238ROUmDrOjsU3L73Z2XWBqHzU2tQ25sSRvwpxBeqIRXIrIbXIMA2S9VmeLzGPkWN0FFnB0mBGBmXQkDHjTnU=
    - secure: >-
        tU+iaKe+03QV8zPoEowIgy7EsG61V0S4F6Lzh5kdx2ZmP4zsBJNMO7clge2alpswfJ3gTN47W7LCQqVBFRPUOl+qsrnJI/2KWfpS6IbcU7msGXb0tr3oCAtHbpEPHXVyQTd6Fuqe6t95NKwLUH9VM87DAXmtYA1Gu4Wi5NglrL+Q2BoyLIYfs6O+4Bp9gppA9r8F5jMlB7ueu01fYR4OkTqpsiI0qhC8hXe4oXd1L3AEG0XEAKTM6oX7Wc1T3vGXWvpyiNyAmiPdYClSneJL4M5i8HXOLQBUfKXTiSNrlUcK4tFAdFMdo24iApkUxzSlY4FM9pIKHyu57DGv2QblCjgtNoQTEFkIRgidpjr8uXfuYfdWwxJj5UQhTJx+CocnO2ggPgDJXcW+8soBehKDLUgjJ9hDgrCqn0es0fLQoJ3Qq2Mmc2Jck8JJB23uF/yIxtZJkrkmMNjX4Oe9hgGKdV//XGsPval5TU+jSG9uDDa35761mbAyY+mSH1edxKPAppmIxZSVDmXz29hmleb4YA1BvLqEl3Ter3gyv2Fu8dYXuOBePA3I5EBfjy8JMiI+bQ89MOXOPq11YSe/hJzs6L9EFPSOpVF792bBtFRryc7mQlhiiTaRO8of0CG12l7wnff/g1u3vIqvHtvGYdPYWw0QZsTvPEgeLk3EhZLjI84=
